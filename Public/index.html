<!DOCTYPE html>
<html ng-app="musicApp">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,900' rel='stylesheet' type='text/css'>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <base href="/"></base>
  </head>

  <body ng-controller="YouTubeController">

    <header>
      <h1 id="logo">Playlist</h1>
      <form id="search" ng-submit="getSearch(field); toggleResults()" ng-controller="SearchController">
        <input id="search-input" ng-model="field" type="text" placeholder="Search YouTube Music Videos" autocomplete="off">
        <input id="search-submit" type="image" src="search.png">
        <search-directive show='showResults' width='750px' height='60%'>
          <li ng-cloak ng-repeat="thumbnail in searchList track by $index">
            {{thumbnail.snippet.title}}
            <div>
              <button ng-click="enqueue(thumbnail)" style="margin-left:0px; font-size: 10px">Add to playlist</button>
            </div>
            <img src="{{thumbnail.snippet.thumbnails.default.url}}" height="110" width="192" style="margin-bottom:30px">
          </li>
        </search-directive>
      </form>
      <input id="volume" min ="0" max="100" step="1" type="range" ng-model="volume"</input>
      <h1 id="skip" ng-click="skip()">skip</h1>
    </header>


      <div class="container">
        <div id="player-queue">
          <div id="player"></div>
          <div id="queue">



            <div id="current-song">
              <p ng-cloak ng-show="current.title">{{ current.username }} is playing {{ current.title }}</p>
            </div>

            <div class="pending-songs" ng-cloak ng-repeat="song in list track by $index">
              <p id="queue-title" ng-cloak>{{ song.title }}</p>
              <p id="queue-remove" ng-cloak type="button" ng-click="dequeue(song.id)">Remove</p>
            </div>

          </div>
        </div>



      <div id="chat" ng-controller="ChatController">
          <div id="chat-container" scroll-directive="messages">
          <div id="tabs-container">
            <ul class="tabs-menu">
                    <li class="current"><a href="#tab-1">Tab 1</a></li>
                    <li><a href="#tab-2">Tab 2</a></li>
            </ul>
            <table class="chat-table">
<!--               <thead>
                <tr id="chat-header">
                  <th>Chat</th>
                </tr>
              </thead> -->
              <div class="tab">
                 <div id="tab-1" class="tab-content">
                    <tbody id="messages" ng-repeat="message in messages track by $index">
                      <tr class="user-name">
                        <td ng-cloak ng-show="messages[{{$index-1}}].username !== message.username"><strong>{{ message.username }}:</strong></td>
                      </tr>
                      <tr class="user-message">
                        <td ng-cloak >{{ message.message }}</td>
                      </tr>
                    </tbody>
                 </div>
                 <div id="tab-2" class="tab-content">
                    <tbody id="messages">
                      <tr class="user-name" ng-repeat="user in useronline">
                        <td ng-cloak ><strong>{{user}}</strong></td>
                      </tr>
                    </tbody>
                </div>
              </div>

            </table>
            </div>
          </div>

            <form id="chat-submit" ng-submit="send(message)">
              <input id="chat-input" ng-model="message" type="text" placeholder="Enter Message" autocomplete="off" required/>
            </form>
        </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-rc.2/angular.min.js"></script>
    <script src="chat.js"></script>
    <script src="search.js"></script>
    <script src="music.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
          $(".tabs-menu a").click(function(event) {
              event.preventDefault();
              $(this).parent().addClass("current");
              $(this).parent().siblings().removeClass("current");
              var tab = $(this).attr("href");
              $(".tab-content").not(tab).css("display", "none");
              $(tab).fadeIn();
          });
      });
    </script>

  </body>

</html>



