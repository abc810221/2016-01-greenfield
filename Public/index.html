<!DOCTYPE html>
<html ng-app="musicApp">
  <head>
    <link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="style.css">
    <base href="/"></base>
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,900' rel='stylesheet' type='text/css'>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
  </head>
  <body ng-controller="YouTubeController">

    <header>
      <div id="search">
        <h1 id="name">Playli.st</h1>
        <input id="query" type="text" placeholder="Search YouTube Music Videos">
      </div>
    </header>

      <div class="container">
        <div id="yt-queue">
            <div id="player"></div>

          <div id="queue-display">
              <table class="queue-table">
                <thead>
                  <tr class="queue-header-row">
                    <th class="queue-col">Playlist</th>
                    <th class="queue-col">Title</th>
                    <th class="queue-col">Added By</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="queue-song-row" ng-repeat="song in list track by $index">
                    <td ng-cloak class="queue-col"><img src={{song.thumbnail}} height="54" width="72"></td>
                    <td ng-cloak class="queue-col">{{ song.title }}</td>
                    <td ng-cloak class="queue-col">{{ song.username }}</td>
                    <td ng-cloak class="queue-col"><form><button type="button" ng-click="dequeue(song.id)">Remove Song</button></form></td>
                  </tr>
                </tbody>
              </table>
          </div>
        </div>
        <div id="chat-screen" ng-controller="ChatController">
          <div id="message-display" scroll-directive="messages">
            <table class="chat-table">
              <thead>
                <tr>
                  <th>Messages</th>
                </tr>
              </thead>
              <tbody class="chat-row" ng-repeat="message in messages track by $index">
                <tr class="user-name">
                  <td ng-cloak ng-show="messages[{{$index-1}}].username !== message.username"><strong>{{ message.username }}:</strong></td>
                </tr>
                <tr class="user-message">
                  <td ng-cloak >{{ message.message }}</td>
                </tr>
              </tbody>
            </table>
          </div>
            <form id="chat-submit" ng-submit="send(message)">
              <input id="input-message" ng-model="message" type="text" placeholder="Enter Message" autocomplete="on" required/>
              <!-- <input id="chat-button" type="submit"/> -->
            </form>
        </div>





     <!--  <div class="row">

        <div class="col-md-2" ng-controller="SearchController">
            <div ng-cloak class="row" style="overflow-x:hidden; height:640px; width:210px overflow: auto" >
              <form ng-submit="getSearch(field)" style="margin-top:5px; margin-left:12px">
                <input ng-model="field" type="text" placeholder="Keywords" autocomplete="on" style="width:190px"/>
                <input type="submit" style="margin-top:3px; margin-bottom:20px">
              </form>

                  <li ng-repeat="thumbnail in searchList track by $index">
                    {{thumbnail.snippet.title}}

                    <div>
                      <button ng-click="enqueue(thumbnail)" style="margin-left:0px; font-size: 10px">Add to playlist</button>
                    </div>

                    <img src="{{thumbnail.snippet.thumbnails.default.url}}" height="110" width="192" style="margin-bottom:30px">
                  </li>

            </div>
        </div>

        <div ng-view class="col-md-7"></div>

        <div class="col-md-3" id="chat" ng-controller="ChatController">

          <div style="height:600px; overflow-x:hidden; width:330px; overflow: auto" scroll-directive="messages">

            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Messages</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="message in messages">
                  <td ng-cloak><strong>{{ message.username }}:</strong></td>
                  <td ng-cloak style="word-wrap: break-word">{{ message.message }}</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="row">
            <form ng-submit="send(message)" style="margin-top:5px; margin-left:22px">
              <input ng-model='message' type="text" placeholder="Enter Message" autocomplete="on" style="width:180px"/>
              <input type="submit" style="margin-top:3px" ng-model="message"></input>
            </form>
          </div>

        </div>

      </div>

    </div> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-rc.2/angular.min.js"></script>
    <script src="chat.js"></script>
    <script src="music.js"></script>
    <script src="search.js"></script>
  </body>
</html>



